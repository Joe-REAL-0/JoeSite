<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Joe的个人小站 | 主页</title>
    <link rel="icon" href="{{ url_for('static', filename='images/favicon.ico') }}" type="image/x-icon">
    <link rel="preload" href="{{ url_for('static',filename='images/background.jpg')}}" as="image" type="image/jpg">
    <link rel="preload" href="{{ url_for('static',filename='font/ZhengQingKeLengKu.ttf')}}" as="font" type="font/ttf" crossorigin>
    <link rel="preload" href="{{ url_for('static',filename='font/valorax-lg25v.ttf')}}" as="font" type="font/ttf" crossorigin>
    <link rel="preload" href="{{ url_for('static',filename='font/Technonomicon.ttf')}}" as="font" type="font/ttf" crossorigin>
    <link rel="stylesheet" href="{{ url_for('static',filename = 'css/font.css' ) }}">
    <link rel="stylesheet" href="{{ url_for('static',filename = 'css/html-style/index.css' ) }}">
    <link rel="stylesheet" href="{{ url_for('static',filename = 'css/animations/animation-index.css' ) }}">

    <script src="{{ url_for('static', filename='js/index.js')}}"></script>
</head>
<body>
    <!-- 移动端菜单按钮 -->
    <button id="mobile_menu_btn" class="mobile-menu-btn" onclick="toggleMobileMenu(event)">
        <div class="hamburger"></div>
        <div class="hamburger"></div>
        <div class="hamburger"></div>
    </button>
    
    <div class="CenterContainer" id="main_screen">
        <div id="side_list" class="side-menu">
            <div class="ButtonContainer">
                <div class="ButtonIcon" style="background-color: gray;">
                    <img class="ButtonImg" src="{{ url_for('static',filename = 'images/button_image/oc_introduce.png' ) }}">
                </div>
                <a class="SideButton" href="{{ url_for('introduce') }}" >角色介绍</a>
            </div>

            <div class="ButtonContainer">
                <div class="ButtonIcon" style="background-color: gray;">
                    <img class="ButtonImg" src="{{ url_for('static',filename = 'images/button_image/diary.png' ) }}">
                </div>
                <a class="SideButton">日常笔记</a>
            </div>

            <div class="ButtonContainer">
                <div class="ButtonIcon" style="background-color: gray;">
                    <img class="ButtonImg" src="{{ url_for('static',filename = 'images/button_image/could_storage.png' ) }}">
                </div>
                <a class="SideButton" >私人网盘</a>
            </div>
            
            <div class="ButtonContainer">
                <div class="ButtonIcon" style="background-color: gray;">
                    <img class="ButtonImg" src="{{ url_for('static',filename = 'images/button_image/friend_link.png' ) }}">
                </div>
                <a class="SideButton" href="{{ url_for('friend_link') }}">友情链接</a>
            </div>

            <div class="ButtonContainer">
                <div class="ButtonIcon" style="background-color: gray;">
                    <img class="ButtonImg" src="{{ url_for('static',filename = 'images/button_image/message_wall.png' ) }}">
                </div>
                <a class="SideButton" href="{{ url_for('message') }}">留言墙</a>
            </div>
            
        </div>
        <div class="InfoContainer">
            <div id="info_screen">
                <div class="welcome_messages_container">
                    <p id="welcome_message_1" class="welcome-line">你好！</p>
                    <p id="welcome_message_2" class="welcome-line">Hello</p>
                    <p id="welcome_message_3" class="welcome-line">欢迎走进我的世界</p>
                    <p id="welcome_message_4" class="welcome-line">Welcome to my world</p>
                </div>
                <div id="link_column">
                    <div class="LinkContainer">
                        <a href="http://qm.qq.com/cgi-bin/qm/qr?_wv=1027&k=uJ38E4GkbTa3_kY96VUvYSKoUWkIjnSw&authKey=iwzFcli%2BQa5aZuhxn6C1ivGGI21qHU%2B2PxX4G9BE2sALmgAUyKozSF0ldzI9uhQ6&noverify=0&group_code=314998105">
                            <img title="点击加入我的QQ聊天群" class="LinkIcon" src="{{ url_for('static',filename = 'images/link_image/QQ_Icon.jpg' ) }}">
                        </a>
                    </div>
                    <div class="LinkContainer">
                        <a href="https://space.bilibili.com/259414449?spm_id_from=333.1007.0.0">
                            <img title="很没有意思的B站主页" class="LinkIcon" src="{{ url_for('static',filename = 'images/link_image/bilibili_Icon.jpg' ) }}">
                        </a>
                    </div>
                    <div class="LinkContainer">
                        <a href="https://github.com/Joe-REAL-0/">
                            <img title="乱糟糟很丢人的GitHub主页" class="LinkIcon" src="{{ url_for('static',filename = 'images/link_image/GitHub_Icon.jpg' ) }}">
                        </a>
                        </div>
                    <div class="LinkContainer">
                        <a href="https://play.mcmod.cn/sv20187377.html">
                            <img title="我运营的Minecraft服务器" class="LinkIcon" src="{{ url_for('static',filename = 'images/link_image/Minecraft_Icon.jpg' ) }}">
                        </a>
                    </div>
                    <div class="LinkContainer">
                        <a href="https://joe-real-0.itch.io/">
                            <img title="itch主页" class="LinkIcon" src="{{ url_for('static',filename = 'images/link_image/itch_Icon.jpg' ) }}">
                        </a>
                    </div>

                </div>
            </div>
            <div id="user_info">
                <a id="login_link" href="{{url_for('login')}}">{{nickname|default('你尚未登录Joe通行证')}} | 点击{{status|default('进行登录')}}</a>
                <h4 id="login_text">{{signature|default('登录Joe通行证后才可以在留言板留言！')}}</h4>
                {% if session.get('nickname') %}
                <a id="user_info_link" href="{{url_for('user_info')}}">查看/修改个人信息</a>
                {% endif %}
            </div>
        </div>
    </div>
    <div id="cover"></div>
    <h1 id="title">JoE's Site</h1>
    <h2 id="loading_text">—— 正在加载资源 ——</h2>

    <script>
        // 初始化应用
        const resourceManager = initializeApp();
        
        // 设置需要检测的资源列表
        const requiredResources = [
            // 图片资源
            "{{ url_for('static', filename='images/background.jpg') }}",
            "{{ url_for('static', filename='images/button_image/oc_introduce.png') }}",
            "{{ url_for('static', filename='images/button_image/diary.png') }}",
            "{{ url_for('static', filename='images/button_image/CouldStorage.png') }}",
            "{{ url_for('static', filename='images/button_image/MessageWall.png') }}",
            "{{ url_for('static', filename='images/link_image/QQ_Icon.jpg') }}",
            "{{ url_for('static', filename='images/link_image/bilibili_Icon.jpg') }}",
            "{{ url_for('static', filename='images/link_image/GitHub_Icon.jpg') }}",
            "{{ url_for('static', filename='images/link_image/Minecraft_Icon.jpg') }}",
            // 字体资源
            "{{ url_for('static', filename='font/ZhengQingKeLengKu.ttf') }}",
            "{{ url_for('static', filename='font/valorax-lg25v.ttf') }}",
            "{{ url_for('static', filename='font/Technonomicon.ttf') }}",
            "{{ url_for('static', filename='font/GunShi.ttf') }}"
        ];
        
        resourceManager.setRequiredResources(requiredResources);
    </script>
</body>